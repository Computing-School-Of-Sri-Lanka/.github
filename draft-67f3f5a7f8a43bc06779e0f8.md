---
title: "Object Relational Mapping with the Java
Persistence API"
slug: object-relational-mapping-with-the-java-persistence-api

---

Java Persistence API (JPA) යනු Java Enviornment හි Enterprise Application වල දත්ත ගබඩා කිරීම(Store) සහ ලබා ගැනීම(Retrieve) සඳහා වන සම්මත විධික්‍රම සමූහයකි. **එය Object-Relational Mapping (ORM) සංකල්පය භාවිතා කරමින් Java objects සහ relational databases අතර ඇති විය හැකි විෂමතාවයන් මඟහරවයි**. Java objects සහ database වගු Buisness Data store කිරීම සඳහා විවිධ Data types භාවිතා කරන අතර, එමඟින් object ආකෘතිය සහ relational ආකෘතිය අතර වෙනස්කම් ඇති විය හැක. <mark>ORM මෘදුකාංගය යෙදවුමක අර්ථ දක්වා ඇති පන්ති සහ දත්ත සමුදා වගුවක යෝජනා ක්‍රමය අතර සිතියම්කරණය විස්තර කිරීමට metadata භාවිතා කරයි.</mark>

JPA හි ප්‍රධාන සංකල්ප කිහිපයක් ඇත:

* **Entities (ඒකක):** මේවා දත්ත ගබඩාවේ ඇති වගු වලට map කරන ලද <mark>සැහැල්ලු</mark>, කල් පවතින වස්තු වේ. `@Entity` <mark>සටහන</mark> Java SE පන්තියක් entity class එකක් බවට පරිවර්තනය කිරීමට අවශ්‍ය වේ. ප්‍රාථමික යතුරක්(Primary Key) නියම කිරීම සඳහා `@Id` <mark>සටහන </mark> භාවිතා කරයි.
    
* **Persistence Unit (කල් පැවැත්මේ ඒකකය):** දත්ත මූලාශ්‍රය, ගනුදෙනු <mark>වර්ගය</mark> සහ <mark>සිතියම්කරණ තොරතුරු</mark> වැනි <mark>වින්‍යාස</mark> සැකසුම් `persistence.xml` ගොනුවේ අඩංගු වේ. සෑම යෙදවුමක්ම අවම වශයෙන් එක් <mark>කල්පැවැත්මේ ඒකකයක්</mark> වත් තිබිය යුතුය. <mark>කල්පැවැත්මේ ඒකකයේ නම</mark> EntityManager ලබා ගැනීමට භාවිතා කරයි.
    
* **Persistence Context (කල් පවතින සන්දර්භය):** මෙය EntityManager එකක් තුළ කළමනාකරණය කරන ලද entity <mark>වස්තු </mark> සමූහයකි. එය යම් දත්ත ගබඩාවක පවතින කළමනාකරණය කරන ලද entity instances නිර්මාණය කිරීම, පවත්වා ගැනීම සහ ඉවත් කිරීම <mark>යටතේ ඇති විෂය පථය අර්ථ දක්වයි.</mark>
    
* **EntityManager (ඒකක කළමනාකරු):** entity මත CRUD මෙහෙයුම් (Create, Read, Update, Delete) සිදු කිරීම සඳහා වන API මෙයයි. `persist()`, `find()`, `merge()` සහ `remove()` වැනි ක්‍රම භාවිතයෙන් මෙහෙයුම් සිදු කරයි. `@PersistenceContext` සටහන භාවිතයෙන් EJB එකකට EntityManager එකක් ඇතුල් කළ හැක. EntityManagerFactory සහ EntityManager අතර සම්බන්ධතාවය <mark>එකකට බොහෝය.</mark>
    
* **JPQL (Java Persistence Query Language) (<mark>Java කල් පවතින විමසුම් භාෂාව</mark>):** මෙය entity <mark>විමසීම</mark> සඳහා වන <mark>වේදිකා-ස්වාධීන විමසුම් භාෂාවකි</mark>. **JPQL SQL වලට සමාන වුවත්, එය database වගු සහ තීරු වෙනුවට Java entities අනුව ප්‍රකාශ වේ**. JPQL SELECT, UPDATE සහ DELETE <mark>ප්‍රකාශ</mark> සඳහා සහය දක්වයි. <mark>විමසුම් </mark> වල WHERE වගන්තිය නම් කරන ලද <mark>පරාමිතීන් </mark> සමඟ නිර්මාණය කළ හැකිය.
    
* **Entity Relationships (ඒකක සම්බන්ධතා):** Entity පන්ති අතර සම්බන්ධතා සටහන් භාවිතයෙන් <mark>සිතියම්ගත</mark> කෙරේ. ප්‍රධාන සම්බන්ධතා <mark>වර්ග </mark> තුනක් ඇත: <mark>එකකට එකක්</mark> (`@OneToOne`), <mark>එකකට බොහෝ</mark> (`@OneToMany`) සහ <mark>බොහෝ දෙනෙකුට බොහෝ දෙනෙක්</mark> (`@ManyToMany`). `@JoinColumn` <mark>සටහන </mark> විදේශ යතුර ලෙස JPA භාවිතා කරන <mark>තීරුව නිර්වචනය</mark> කරයි. <mark>කාර්ය </mark> සාධනය වැඩි දියුණු කිරීම සඳහා <mark>පමා වූ </mark> (`FetchType.LAZY`) සහ <mark> උනන්දු වූ</mark> (`FetchType.EAGER`) <mark>පැටවීම්</mark> භාවිතා කළ හැකිය. <mark>පමා වූ</mark> <mark>පැටවීම </mark> භාවිතා කරන්නේ නම් සහ entity manager session එක අවසන් වූ පසු සම්බන්ධතාවක් <mark>පැටවීමට</mark> උත්සාහ කළහොත් LazyInitializationException එකක් සිදුවිය හැක.
    

JPA මඟින් Java <mark>සංවර්ධකයින්ට</mark> ඔවුන්ගේ Java යෙදවුම් වල relational දත්ත කළමනාකරණය කිරීම සඳහා object/relational mapping පහසුකමක් සපයයි.